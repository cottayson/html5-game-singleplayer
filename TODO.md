# problems:
- при переходе с вкладки игры на другую и обратно, возникает ошибка steps > 10
  в функции update() в файле main.js
    возможные решения:
    1. заставить браузер обсчитывать цикл, когда переходишь на другую вкладку
    2. перезагружать страницу при возвращении с другой вкладки
    3. когда ставлю на паузу перед переходом на другую вкладку "enter" ошибка не возникает, значит можно автоматически ставить игру на паузу!

- иногда в консоли видна ошибка загрузки gameMap
Uncaught ReferenceError: gameMap is not defined
    at HTMLDocument.<anonymous> (input.js:19)

- need destroyed wall texture to structures.bmp

# TODO:

- load binary files(map files)
- render map, camera class
- camera (x, y) must be in pixels
- json mast loaded earlier than images because json.parse can throw error

## Ограничения на типы
- Сгруппировать свойства типов в одном файле (или json объекте)
Пример:
```json
{
// Массив объектов
"units.length": "0 <= x: number <= MAX_UNITS",
"unit.drawingState": "0 <= x: number <= unit.spriteSource.positions.length",
// ...
}
```

## Туман войны
- Автоматическая релаксация тайлов
  Нужна для плавности перехода между разведанной частью карты и неразведанной.
  + Детали
    Если тайл помечен как `black`, то его соседи помечаются как `near black` и динамически  обновляется `tileId` у каждого соседа в `gameMap`

## Редадоктор земли и песка
- Применить идею Винеровского моста для частичной генерации случайных свойств тайлов.
  Пользователь может _заморозить_ некоторую группу тайлов, а остальные окружающие их тайлы
  будут перегенерированы с учетом заданных случайных свйоств. Но если сделать это "в лоб", то будет видно граница между замороженными и незамороженными тайлами. Поэтому используется идея выбора наиболее веротятного решения:
    + Когда крайвые значения известны можно предоложить что замороженные тайлы также были сгенерерированы случайно и выбрать наиболее вероятную конфигурацию из всех возможных конфигураций тайлов при условии что замороженные тайлы будут иметь заданную пользователем конфигурацию.

## Проверка на коллизию
- Большой массив
  Каждой клетке карты соотвествует определенный `object_id` и данное соответствие хранится в двумерном массиве `m[x][y] = object_id`
- либо QuadTree: бесконечных карт или карт большого размера подойдет QuadTree + листья дерева являются `object_id[][]`
